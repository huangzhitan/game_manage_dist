"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[924],{4351:function(e,t,a){a.d(t,{Z:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total,  prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],r={props:{total:{type:Number,default:100},pageSize:{type:Number,default:10}},methods:{handleSizeChange(e){console.log(`每页 ${e} 条`)},handleCurrentChange(e){console.log(`当前页: ${e}`),this.$emit("CurrentChange",e)}},data(){return{currentPage:1}}},s=r,o=a(1001),i=(0,o.Z)(s,l,n,!1,null,null,null),c=i.exports},6924:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var l=function(){var e=this,t=e._self._c;return t("div",[t("Breadcrumb"),t("div",{staticClass:"header"},[t("div",{staticClass:"form"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[t("el-form-item",{attrs:{label:"预定编号"}},[t("el-input",{attrs:{size:"small",placeholder:"预定编号"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),t("el-form-item",{attrs:{label:"预定时间"}},[t("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期"},model:{value:e.formInline.date,callback:function(t){e.$set(e.formInline,"date",t)},expression:"formInline.date"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"small"}},[e._v("查询")])],1)],1)],1),t("div",{staticClass:"group"},[t("el-button",{attrs:{size:"small",type:"warning"}},[e._v("导出")])],1)]),t("div",{staticClass:"content"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-cell-class-name":"active-header","cell-class-name":"table-center"}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"orderNum",label:"汇总单编号"}}),t("el-table-column",{attrs:{prop:"operator",label:"汇总人"}}),t("el-table-column",{attrs:{prop:"phone",label:"联系电话"}}),t("el-table-column",{attrs:{prop:"time",label:"汇总时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.dayjs(t.row.yudingTime).format("YYYY-MM-DD HH:mm:ss"))+" ")]}}])}),t("el-table-column",{attrs:{prop:"totalPrice",label:"汇总单总价格"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleEdit(a.$index,a.row)}}},[e._v("撤销汇总")])]}}])})],1),t("Pagination",{attrs:{total:e.total,pageSize:e.pageSize},on:{CurrentChange:e.CurrentChange}})],1)],1)},n=[],r=a(5743),s=a.n(r),o=a(4351),i={components:{Pagination:o.Z},data(){return{formInline:{},tableData:[],total:10,pageSize:1}},methods:{dayjs:s(),CurrentChange(){},handleEdit(e,t){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$api.cancel({id:t.id}).then((e=>{console.log("撤销汇总----",e.data),200===e.data.status&&(this.$message({type:"success",message:"撤销成功!"}),this.collect(1))}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},async collect(e){let t=await this.$api.collect({page:e});console.log("汇总清单列表---",t.data),200==t.data.status?(this.tableData=t.data.data,this.total=t.data.total,this.pageSize=t.data.pageSize):(this.tableData=[],this.total=0,this.pageSize=1)}},created(){this.collect()}},c=i,u=a(1001),d=(0,u.Z)(c,l,n,!1,null,"e5e00b90",null),m=d.exports}}]);
//# sourceMappingURL=924.c2eaf071.js.map