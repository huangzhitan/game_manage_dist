{"version":3,"file":"js/300.077bd563.js","mappings":"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","sources":["webpack://vue-project/./src/views/advert/Index.vue","webpack://vue-project/./src/views/advert/AdvertTree.vue","webpack://vue-project/./src/api/advert.js","webpack://vue-project/src/views/advert/AdvertTree.vue","webpack://vue-project/./src/views/advert/AdvertTree.vue?4692","webpack://vue-project/./src/views/advert/AdvertTree.vue?25b8","webpack://vue-project/./src/views/advert/AdvertContent.vue","webpack://vue-project/src/views/advert/AdvertContent.vue","webpack://vue-project/./src/views/advert/AdvertContent.vue?ed05","webpack://vue-project/./src/views/advert/AdvertContent.vue?5626","webpack://vue-project/src/views/advert/Index.vue","webpack://vue-project/./src/views/advert/Index.vue?9e7e","webpack://vue-project/./src/views/advert/Index.vue?a8a6"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"advert\"},[_c('AdvertTree',{staticClass:\"advert-left\",on:{\"getTreeData\":_vm.getTreeData}}),_c('AdvertContent',{staticClass:\"advert-content\",attrs:{\"treeData\":_vm.treeData}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-tree',{attrs:{\"data\":_vm.data,\"expand-on-click-node\":false,\"render-content\":_vm.renderContent,\"props\":_vm.props,\"lazy\":\"\",\"load\":_vm.loadNode,\"node-key\":\"pid\"},on:{\"node-click\":_vm.handleNodeClick}}),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('p',[_vm._v(\"当前出于的广告位置：\"+_vm._s(_vm.advertInfo.name))]),_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.advertName),callback:function ($$v) {_vm.advertName=$$v},expression:\"advertName\"}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitAdvert}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//订单接口\r\n// host:'http://localhost:9898',\r\nimport axios from '@/utils/request'\r\n\r\n//接口列表\r\n//广告分类管理\r\nexport const selectContentCategoryByParentId='/api/advert/content/selectContentCategoryByParentId'\r\n//广告分类管理 增加子导航\r\nexport const insertContentCategory='/api/advert/content/insertContentCategory'\r\n//广告分类管理 修改子导航\r\nexport const updateContentCategory='/api/advert/content/updateContentCategory'\r\n//广告分类管理 删除子导航 pid\r\nexport const deleteContentCategoryById='/api/advert/content/deleteContentCategoryById'\r\n//广告分类管理 内容增加\r\nexport const insertTbContent='/api/advert/content/insertTbContent'\r\n//广告分类管理 内容删除 /content/deleteContentByIds\r\nexport const deleteContentByIds='/api/advert/content/deleteContentByIds'\r\n//内容分类管理 内容查询\r\nexport const selectTbContentAllByCategoryId='/api/advert/content/selectTbContentAllByCategoryId'\r\n\r\n\r\n\r\n//广告分类管理 id\r\nexport function getselectContentCategoryByParentId(params){\r\n    return axios.get(selectContentCategoryByParentId,{params})\r\n}\r\n\r\n//广告分类管理 增加子导航\r\nexport function getinsertContentCategory(params){\r\n    return axios.get(insertContentCategory,{params})\r\n}\r\n\r\n//广告分类管理 修改子导航\r\nexport function getupdateContentCategory(params){\r\n    return axios.get(updateContentCategory,{params})\r\n}\r\n\r\n//广告分类管理 删除子导航 pid\r\nexport function getdeleteContentCategoryById(params){\r\n    return axios.get(deleteContentCategoryById,{params})\r\n}\r\n\r\n//广告分类管理 内容增加\r\n/* \r\n    const pid = req.query.pid;\r\n    const name = req.query.name;\r\n    const contentUrl = req.query.url;\r\n    const image = req.query.image;\r\n     */\r\nexport function getinsertTbContent(params){\r\n    return axios.get(insertTbContent,{params})\r\n}\r\n\r\n//广告分类管理 内容删除 id\r\nexport function getdeleteContentByIds(params){\r\n    return axios.get(deleteContentByIds,{params})\r\n}\r\n\r\n\r\n//内容分类管理 内容查询 pid\r\nexport function getselectTbContentAllByCategoryId(params){\r\n    return axios.get(selectTbContentAllByCategoryId,{params})\r\n}\r\n","<template>\r\n    <div>\r\n      <el-tree :data=\"data\" :expand-on-click-node=\"false\" :render-content=\"renderContent\" :props=\"props\" lazy\r\n        :load=\"loadNode\" node-key=\"pid\" @node-click=\"handleNodeClick\">\r\n      </el-tree>\r\n  \r\n      <!-- 弹框 -->\r\n      <el-dialog :title=\"title\" :visible.sync=\"dialogVisible\" width=\"40%\">\r\n        <p>当前出于的广告位置：{{ advertInfo.name }}</p>\r\n        <el-input type=\"text\" v-model=\"advertName\" />\r\n  \r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"submitAdvert\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n  \r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { getselectContentCategoryByParentId, getinsertContentCategory, getupdateContentCategory, getdeleteContentCategoryById } from '@/api/advert'\r\n  export default {\r\n    data() {\r\n      return {\r\n        dialogVisible: false, //弹框状态关闭\r\n        title: \"添加广告\",\r\n        advertName: \"\", //广告名字\r\n        advertInfo: {}, //点击广告节点内容\r\n        props: {\r\n          label: \"name\",\r\n          children: \"zones\",\r\n          isLeaf: \"leaf\",\r\n        },\r\n        data: [],\r\n      };\r\n    },\r\n    methods: {\r\n      http() {\r\n        getselectContentCategoryByParentId().then((res) => {\r\n          console.log('http----进入组件懒加载数据');\r\n          this.data = res.data.result\r\n        });\r\n      },\r\n      //点击tree节点---发送数据\r\n      handleNodeClick(data) {\r\n        console.log(data);\r\n        this.$emit('getTreeData', data)\r\n      },\r\n      //进入组件懒加载数据\r\n      loadNode(node, resolve) {\r\n        if (node.level === 0) {\r\n          //第一次请求\r\n          getselectContentCategoryByParentId().then((res) => {\r\n            return resolve(res.data.result);\r\n          });\r\n        }\r\n        if (node.level >= 1) {\r\n          getselectContentCategoryByParentId({\r\n            id: node.data.pid,\r\n          })\r\n            .then((res) => {\r\n              if (res.data.status === 200) {\r\n                return resolve(res.data.result);\r\n              } else {\r\n                return resolve([]);\r\n              }\r\n            });\r\n        }\r\n      },\r\n      //render-content\r\n      //增加\r\n      append(data) {\r\n        console.log(data);\r\n        //显示弹框\r\n        this.dialogVisible = true;\r\n        this.title = \"添加广告\";\r\n        //获取点击的节点内容\r\n        this.advertInfo = data;\r\n      },\r\n      //删除-----------------------------------\r\n      remove(node, data) {\r\n        this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          }).then(() => {\r\n            this.delete(data.pid)\r\n          }).catch(() => {\r\n            this.$message({\r\n              type: 'info',\r\n              message: '已取消删除'\r\n            });          \r\n          });\r\n      },\r\n      //删除接口-------------------------------------\r\n      delete(pid){\r\n        getdeleteContentCategoryById({\r\n          pid,\r\n        })\r\n          .then(res => {\r\n            if (res.data.status === 200) {\r\n              //添加成功\r\n              this.$message({\r\n                message: \"恭喜你，删除成功\",\r\n                type: \"success\",\r\n              });\r\n              //更新tree\r\n              this.http()\r\n            } else {\r\n              //错误信息提示\r\n            }\r\n          })\r\n      },\r\n  \r\n      //修改-------------------------------------\r\n      update(data) {\r\n        //显示弹框\r\n        this.dialogVisible = true;\r\n        this.title = \"修改广告名称\";\r\n        //获取点击的节点内容\r\n        this.advertInfo = data;\r\n      },\r\n      //提交确定按钮\r\n      submitAdvert() {\r\n        if (this.title == \"添加广告\") {\r\n          console.log(\"添加事件\");\r\n          getinsertContentCategory({\r\n            pid: this.advertInfo.pid,\r\n            name: this.advertName,\r\n          })\r\n            .then((res) => {\r\n              console.log(res.data);\r\n              if (res.data.status === 200) {\r\n                //添加成功\r\n                this.$message({\r\n                  message: \"恭喜你，这是一条成功消息\",\r\n                  type: \"success\",\r\n                });\r\n                //隐藏弹框--清空数据\r\n                this.dialogVisible = false;\r\n                this.advertName = \"\";\r\n                //更新tree\r\n                this.http()\r\n              } else {\r\n                //错误信息提示\r\n  \r\n              }\r\n            });\r\n        } else {\r\n          console.log(\"修改事件\");\r\n          //修改\r\n          getupdateContentCategory({\r\n            pid: this.advertInfo.pid,\r\n            name: this.advertName,\r\n          })\r\n            .then(res => {\r\n              if (res.data.status === 200) {\r\n                //添加成功\r\n                this.$message({\r\n                  message: \"恭喜你，修改成功\",\r\n                  type: \"success\",\r\n                });\r\n                //隐藏弹框--清空数据\r\n                this.dialogVisible = false;\r\n                this.advertName = \"\";\r\n                //更新tree\r\n                this.http()\r\n              } else {\r\n                //错误信息提示\r\n  \r\n              }\r\n            })\r\n  \r\n        }\r\n      },\r\n      renderContent(h, { node, data, store }) {\r\n        return (\r\n          <span class=\"custom-tree-node\">\r\n            <span>{node.label}</span>\r\n            <span>\r\n              <el-button\r\n                size=\"mini\"\r\n                type=\"text\"\r\n                on-click={() => this.append(data, \"add\")}\r\n              >\r\n                增加\r\n              </el-button>\r\n              <el-button\r\n                size=\"mini\"\r\n                type=\"text\"\r\n                on-click={() => this.update(data, \"update\")}\r\n              >\r\n                修改\r\n              </el-button>\r\n              <el-button\r\n                size=\"mini\"\r\n                type=\"text\"\r\n                on-click={() => this.remove(node, data)}\r\n              >\r\n                删除\r\n              </el-button>\r\n            </span>\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style>\r\n  \r\n  </style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AdvertTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AdvertTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdvertTree.vue?vue&type=template&id=5708bdf9&\"\nimport script from \"./AdvertTree.vue?vue&type=script&lang=js&\"\nexport * from \"./AdvertTree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content\"},[_c('el-button',{on:{\"click\":function($event){(_vm.dialogVisible = true)}}},[_vm._v(_vm._s(_vm.treeData.name)+\"广告\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"pid\",\"label\":\"PID\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"url\",\"label\":\"访问地址\",\"min-width\":\"240\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"image\",\"label\":\"图片地址\",\"min-width\":\"240\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"新增广告内容\",\"visible\":_vm.dialogVisible,\"width\":\"30%\"}},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"model\":_vm.formInline,\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"广告名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"审批人\"},model:{value:(_vm.formInline.name),callback:function ($$v) {_vm.$set(_vm.formInline, \"name\", $$v)},expression:\"formInline.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"广告图片地址\"}},[_c('el-input',{attrs:{\"placeholder\":\"审批人\"},model:{value:(_vm.formInline.url),callback:function ($$v) {_vm.$set(_vm.formInline, \"url\", $$v)},expression:\"formInline.url\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图片\"}},[_c('el-input',{attrs:{\"placeholder\":\"审批人\"},model:{value:(_vm.formInline.image),callback:function ($$v) {_vm.$set(_vm.formInline, \"image\", $$v)},expression:\"formInline.image\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addContent}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"content\">\r\n      <el-button @click=\"(dialogVisible = true)\">{{ treeData.name }}广告</el-button>\r\n      <!-- 表格 -->\r\n      <el-table :data=\"tableData\" style=\"width: 100%\" border>\r\n        <el-table-column prop=\"pid\" label=\"PID\" width=\"180\"> </el-table-column>\r\n        <el-table-column prop=\"name\" label=\"名称\" width=\"180\"> </el-table-column>\r\n        <el-table-column prop=\"url\" label=\"访问地址\" min-width=\"240\" show-overflow-tooltip>\r\n        </el-table-column>\r\n        <el-table-column prop=\"image\" label=\"图片地址\" min-width=\"240\" show-overflow-tooltip>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n  \r\n      <!--新增广告内容----\r\n        const pid = req.query.pid;\r\n        const name = req.query.name;\r\n        const contentUrl = req.query.url;\r\n        const image = req.query.image;----------- -->\r\n      <el-dialog title=\"新增广告内容\" :visible=\"dialogVisible\" width=\"30%\">\r\n        <el-form :model=\"formInline\" class=\"demo-form-inline\" size=\"small\">\r\n          <el-form-item label=\"广告名称\">\r\n            <el-input v-model=\"formInline.name\" placeholder=\"审批人\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"广告图片地址\">\r\n            <el-input v-model=\"formInline.url\" placeholder=\"审批人\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"图片\">\r\n            <el-input v-model=\"formInline.image\" placeholder=\"审批人\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"addContent\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  //广告分类管理 内容增加\r\n  import { getselectTbContentAllByCategoryId, getinsertTbContent } from '@/api/advert'\r\n  export default {\r\n    props: {\r\n      treeData: {\r\n        type: Object,\r\n        default: function () {\r\n          return { name: \"按钮\" };\r\n        },\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        tableData: [],\r\n        dialogVisible: false,\r\n        formInline: {\r\n          image: '',\r\n          url: '',\r\n          name: ''\r\n        }\r\n      };\r\n    },\r\n    watch: {\r\n      treeData: function (val) {\r\n        //清空数据\r\n        this.tableData = [];\r\n        getselectTbContentAllByCategoryId({\r\n          pid: val.pid,\r\n        })\r\n          .then((res) => {\r\n            console.log('监听修改----------------',val, res.data);\r\n            if (res.status === 200) {\r\n              this.tableData = res.data.result;\r\n            } else {\r\n              //没有数据\r\n              this.tableData =[];\r\n            }\r\n          });\r\n      },\r\n    },\r\n    methods: {\r\n      handleDelete() { },\r\n      //增加广告内容--弹框\r\n      addContent() {\r\n        //\r\n        let { image,url,name} =this.formInline;\r\n        getinsertTbContent({\r\n          image,url,name,\r\n          \r\n        })\r\n          .then(res => {\r\n            console.log(res.data);\r\n          })\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped lang='less'>\r\n  .content {\r\n    text-align: center;\r\n    margin-left: 100px;\r\n    >button {\r\n      margin-bottom: 20px;\r\n    }\r\n  }\r\n  </style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AdvertContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AdvertContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdvertContent.vue?vue&type=template&id=0594e87d&scoped=true&\"\nimport script from \"./AdvertContent.vue?vue&type=script&lang=js&\"\nexport * from \"./AdvertContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdvertContent.vue?vue&type=style&index=0&id=0594e87d&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0594e87d\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class='advert'>\r\n    <!-- 左侧 -->\r\n    <AdvertTree class=\"advert-left\" @getTreeData='getTreeData' />\r\n    <!-- 右侧 -->\r\n    <AdvertContent class='advert-content' :treeData='treeData' />\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AdvertTree from \"./AdvertTree.vue\";\r\nimport AdvertContent from './AdvertContent.vue'\r\nexport default {\r\n  components: {\r\n    AdvertTree,\r\n    AdvertContent\r\n  },\r\n  data(){\r\n    return{\r\n      treeData:{name:'按钮'}\r\n    }\r\n  },\r\n  methods:{\r\n    getTreeData(val){\r\n      console.log('----',val);\r\n      this.treeData=val;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.advert{\r\n  margin: 20px;\r\n}\r\n  .advert-left{\r\n    width: 300px;\r\n    float: left;\r\n  }\r\n  .advert-content{\r\n    float: left;\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=1181a435&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=1181a435&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1181a435\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","on","getTreeData","attrs","treeData","staticRenderFns","data","renderContent","props","loadNode","handleNodeClick","title","dialogVisible","$event","_v","_s","advertInfo","name","model","value","advertName","callback","$$v","expression","slot","submitAdvert","selectContentCategoryByParentId","insertContentCategory","updateContentCategory","deleteContentCategoryById","insertTbContent","selectTbContentAllByCategoryId","getselectContentCategoryByParentId","params","axios","getinsertContentCategory","getupdateContentCategory","getdeleteContentCategoryById","getinsertTbContent","getselectTbContentAllByCategoryId","label","children","isLeaf","methods","http","console","id","then","append","remove","confirmButtonText","cancelButtonText","type","message","delete","pid","update","node","store","component","staticStyle","tableData","scopedSlots","_u","key","fn","scope","handleDelete","$index","row","formInline","$set","url","image","addContent","default","watch","components","AdvertTree","AdvertContent"],"sourceRoot":""}