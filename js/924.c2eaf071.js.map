{"version":3,"file":"js/924.c2eaf071.js","mappings":"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","sources":["webpack://vue-project/./src/components/pagination/Pagination.vue","webpack://vue-project/src/components/pagination/Pagination.vue","webpack://vue-project/./src/components/pagination/Pagination.vue?2f25","webpack://vue-project/./src/components/pagination/Pagination.vue?d21e","webpack://vue-project/./src/views/order/collect/Index.vue","webpack://vue-project/src/views/order/collect/Index.vue","webpack://vue-project/./src/views/order/collect/Index.vue?403d","webpack://vue-project/./src/views/order/collect/Index.vue?0cb6"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"total,  prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- \r\n        el-pagination 分页组件\r\n            small\t是否使用小型分页样式\tboolean\r\n            background\t是否为分页按钮添加背景色\tboolean\r\n            page-size\t每页显示条目个数，支持 .sync 修饰符\tnumber\t—\t10\r\n            total\t总条目数\tnumber\t\r\n            current-page\t当前页数\r\n            layout\t组件布局，子组件名用逗号分隔\tString\r\n            page-sizes\t每页显示个数选择器的选项设置\tnumber[]\t—\t[10, 20, 30, 40, 50, 100]\r\n        event:\r\n            size-change\tpageSize 改变时会触发\t每页条数\r\n            current-change\tcurrentPage 改变时会触发\t当前页\r\n     -->\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"currentPage\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"total,  prev, pager, next, jumper\"\r\n      :total=\"total\">\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props:{\r\n        total:{\r\n            type:Number,\r\n            default:100\r\n        },\r\n        pageSize:{\r\n            type:Number,\r\n            default:10\r\n        } \r\n    },  \r\n    methods: {\r\n      handleSizeChange(val) {\r\n        console.log(`每页 ${val} 条`);\r\n      },\r\n      handleCurrentChange(val) {\r\n        console.log(`当前页: ${val}`);\r\n        this.$emit('CurrentChange',val)\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        currentPage:1\r\n      };\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=2c657105&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Breadcrumb'),_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"form\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"预定编号\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"预定编号\"},model:{value:(_vm.formInline.name),callback:function ($$v) {_vm.$set(_vm.formInline, \"name\", $$v)},expression:\"formInline.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"预定时间\"}},[_c('el-date-picker',{attrs:{\"size\":\"small\",\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.formInline.date),callback:function ($$v) {_vm.$set(_vm.formInline, \"date\", $$v)},expression:\"formInline.date\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"查询\")])],1)],1)],1),_c('div',{staticClass:\"group\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"}},[_vm._v(\"导出\")])],1)]),_c('div',{staticClass:\"content\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"header-cell-class-name\":\"active-header\",\"cell-class-name\":\"table-center\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"orderNum\",\"label\":\"汇总单编号\"}}),_c('el-table-column',{attrs:{\"prop\":\"operator\",\"label\":\"汇总人\"}}),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"联系电话\"}}),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"汇总时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm.dayjs(scope.row.yudingTime).format('YYYY-MM-DD HH:mm:ss'))+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"totalPrice\",\"label\":\"汇总单总价格\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"撤销汇总\")])]}}])})],1),_c('Pagination',{attrs:{\"total\":_vm.total,\"pageSize\":_vm.pageSize},on:{\"CurrentChange\":_vm.CurrentChange}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Breadcrumb></Breadcrumb>\r\n    <!-- 顶部区域 -->\r\n    <div class=\"header\">\r\n      <div class=\"form\">\r\n        <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n          <el-form-item label=\"预定编号\">\r\n            <el-input v-model=\"formInline.name\" size=\"small\" placeholder=\"预定编号\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"预定时间\">\r\n            <el-date-picker v-model=\"formInline.date\" size=\"small\" type=\"date\" placeholder=\"选择日期\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" size=\"small\">查询</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div class=\"group\">\r\n        <el-button size=\"small\" type=\"warning\">导出</el-button>\r\n      </div>\r\n    </div>\r\n    <!-- 表格区域 -->\r\n    <div class=\"content\">\r\n      <el-table :data=\"tableData\" border style=\"width: 100%\" header-cell-class-name=\"active-header\"\r\n        cell-class-name=\"table-center\">\r\n        <el-table-column type=\"selection\" width=\"55\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"orderNum\" label=\"汇总单编号\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"operator\" label=\"汇总人\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"phone\" label=\"联系电话\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"time\" label=\"汇总时间\">\r\n          <template slot-scope=\"scope\">\r\n            {{ dayjs(scope.row.yudingTime).format('YYYY-MM-DD HH:mm:ss') }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"totalPrice\" label=\"汇总单总价格\">\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" type=\"danger\" @click=\"handleEdit(scope.$index, scope.row)\">撤销汇总</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页 -->\r\n      <Pagination :total=\"total\" :pageSize=\"pageSize\" @CurrentChange=\"CurrentChange\"></Pagination>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport dayjs from 'dayjs'\r\nimport Pagination from '@/components/pagination/Pagination.vue'\r\nexport default {\r\n  components: {\r\n    Pagination\r\n  },\r\n  data() {\r\n    return {\r\n      formInline: {},\r\n      tableData: [],//订单列表数据展示\r\n      total: 10,\r\n      pageSize: 1\r\n    }\r\n  },\r\n  methods: {\r\n    dayjs,\r\n    // //导出excel--------------------------\r\n    // exportExcel() {\r\n    //   require.ensure([], () => {\r\n    //     const { export_json_to_excel } = require('@/excel/ExportExcel');\r\n    //     const fieldName = [\"索引\", \"用户名\", \"密码\"];\r\n    //     const filterVal = [\"index\", \"username\", \"password\"];\r\n    //     const data = this.tableData.map(v => filterVal.map(j => v[j]));\r\n    //     export_json_to_excel(fieldName, data, \"用户列表\");\r\n\r\n    //   });\r\n    // },\r\n    //获取分页---------------------------------\r\n    CurrentChange() {\r\n\r\n    },\r\n    //撤销汇总----------------------------\r\n    handleEdit(index, row) {\r\n      this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        //获取当前的行的id   row.id \r\n        this.$api.cancel({ id: row.id })\r\n          .then(res => {\r\n            console.log('撤销汇总----', res.data);\r\n            if (res.data.status === 200) {\r\n              this.$message({\r\n                type: 'success',\r\n                message: '撤销成功!'\r\n              });\r\n              //视图更新\r\n              this.collect(1)\r\n            }\r\n          })\r\n\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n\r\n\r\n    },\r\n    //获取汇总清单列表---------------------\r\n    async collect(page) {\r\n      let res = await this.$api.collect({ page })\r\n      console.log('汇总清单列表---', res.data);\r\n      if (res.data.status == 200) {\r\n        this.tableData = res.data.data;\r\n        this.total = res.data.total\r\n        this.pageSize = res.data.pageSize\r\n      } else {\r\n        this.tableData = [];\r\n        this.total = 0\r\n        this.pageSize = 1;\r\n      }\r\n    }\r\n\r\n  },\r\n  created() {\r\n    this.collect();\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scoped>\r\n.header {\r\n  background: #fff;\r\n  margin-bottom: 20px;\r\n  padding: 10px;\r\n\r\n  .el-form-item {\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  .group {\r\n    border: 1px solid #eee;\r\n    padding: 8px;\r\n  }\r\n}\r\n\r\n.content {\r\n  background: #fff;\r\n\r\n  /deep/ .active-header {\r\n    color: #333;\r\n    text-align: center;\r\n  }\r\n\r\n  /deep/ .table-center {\r\n    text-align: center;\r\n  }\r\n\r\n  .pagination {\r\n    padding: 10px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=e5e00b90&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=e5e00b90&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5e00b90\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","currentPage","pageSize","total","on","handleSizeChange","handleCurrentChange","staticRenderFns","props","type","default","methods","console","data","component","staticClass","formInline","model","value","name","callback","$$v","$set","expression","date","_v","staticStyle","tableData","scopedSlots","_u","key","fn","scope","_s","dayjs","row","yudingTime","format","$event","handleEdit","$index","CurrentChange","components","Pagination","confirmButtonText","cancelButtonText","id","then","message","page","created"],"sourceRoot":""}